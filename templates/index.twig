
<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<link rel="shortcut icon" type="image/x-icon" href="https://static.codepen.io/assets/favicon/favicon-aec34940fbc1a6e787974dcd360f2c6b63348d4b1f4e06c77743096d55480f33.ico" />
	<link rel="mask-icon" type="" href="https://static.codepen.io/assets/favicon/logo-pin-8f3771b1072e3c38bd662872f6b673a722f4b3ca2421637d5596661b4e2132cc.svg" color="#111" />
	<title>Property</title>
	<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/normalize/5.0.0/normalize.min.css">
	<link rel='stylesheet' href='https://maxcdn.bootstrapcdn.com/bootstrap/3.3.2/css/bootstrap.min.css'>
	<link rel='stylesheet' href='https://cdn.datatables.net/plug-ins/f2c75b7247b/integration/bootstrap/3/dataTables.bootstrap.css'>
	<link rel='stylesheet' href='https://cdn.datatables.net/responsive/1.0.4/css/dataTables.responsive.css'>
	<style>
		body { 
			font-size: 140%; 
		}

		h2 {
			text-align: center;
			padding: 20px 0;
		}

		table caption {
			padding: .5em 0;
		}

		table.dataTable th,
		table.dataTable td {
			white-space: nowrap;
		}

		.p {
			text-align: center;
			padding-top: 140px;
			font-size: 14px;
		}
		img {
			width: 50px;
		}
	</style>
	<script>
		window.console = window.console || function(t) {};
	</script>
	<script>
		if (document.location.search.match(/type=embed/gi)) {
			window.parent.postMessage("resize", "*");
		}
	</script>
</head>
<body translate="no">
	<h2>Properties</h2>
	<div class="container">
		<div class="row">
			<div class="col-xs-12">
				<table summary="This table shows how to create responsive tables using Datatables' extended functionality" class="table table-bordered table-hover dt-responsive">
					<caption class="text-center">List of all properties:</caption>
          <div class="col-md-3">
            <a  href="/api/properties"><button class="btn btn-primary"> Populate Table</button></a>
          </div>
					<thead>
						<tr>
							<th>Image</th>
							<th>Uuid</th>
							<th>County</th>
							<th>Country</th>
							<th>Town</th>
							<th>Description</th>
							<th>Displayable Addresss</th>
							<th>Number of bedrooms</th>
							<th>Number of bathrooms</th>
							<th>Price</th>
							<th>Property type</th>
							<th>Property status</th>
							<th>Action</th>
						</tr>
					</thead>
					<tbody>
						{% for property in properties %}
						<tr>
							<td> <image src= "{{ property.image_url }}" /> </td>
							<td>{{ property.uuid }}</td>
							<td>{{ property.county }}</td>
							<td>{{ property.country }}</td>
							<td>{{ property.town }}</td>
							<td>{{ property.description }}</td>
							<td>{{ property.displayable_addresss }}</td>
							<td>{{ property.number_of_bedrooms }}</td>
							<td>{{ property.number_of_bathrooms }}</td>
							<td>{{ property.price }}</td>
							<td>
								{% for type in propertyTpes %}
								{%- if property.property_type_id == type.id -%} 
								{{ type.title }}
								{% set break = true %}
								{%- endif -%}
								{% endfor %}
							</td>
							<td> {%- if property.property_status == 1 -%} 
								For Sale 
								{%- else -%}
								For Rent
							{%- endif -%}</td>
							<td>
								<button class="btn btn-primary"> Edit</button> 
								<a class="btn btn-danger" href="/delete/{{ property.uuid }}"> Delete</a>
							</td>
						</tr>
						{% endfor %}
					</tbody>
				</table>
			</div>
		</div>
	</div>
	<p class="p">Demo by George Martsoukos. <a href="http://www.sitepoint.com/responsive-data-tables-comprehensive-list-solutions" target="_blank">See article</a>.</p>
	<script src="https://static.codepen.io/assets/common/stopExecutionOnTimeout-de7e2ef6bfefd24b79a3f68b414b87b8db5b08439cac3f1012092b2290c719cd.js"></script>
	<script src='https://cdnjs.cloudflare.com/ajax/libs/jquery/2.1.3/jquery.min.js'></script>
	<script src='https://cdn.datatables.net/1.10.5/js/jquery.dataTables.min.js'></script>
	<script src='https://cdn.datatables.net/plug-ins/f2c75b7247b/integration/bootstrap/3/dataTables.bootstrap.js'></script>
	<script src='https://cdn.datatables.net/responsive/1.0.4/js/dataTables.responsive.js'></script>
	<script id="rendered-js">
		$('table').DataTable();
	</script>
</body>
</html>
